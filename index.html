<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>BGG Top Games Viewer</title>
    <link rel="stylesheet" href="./styles.css">
  </head>
  <body>
    <header>
      <div class="wrap">
        <h1>BoardGameGeek Top Games</h1>
        <div class="controls">
          <label class="control">
            <small>Search</small>
            <input id="search" type="search" placeholder="Title, year..." autocomplete="off" />
          </label>
          <label class="control">
            <small>Weight</small>
            <select id="weight-op">
              <option value="all">All</option>
              <option value="lte">≤</option>
              <option value="gte">≥</option>
            </select>
            <input id="weight-value" type="number" min="0" max="5" step="0.1" placeholder="2.5" />
          </label>
          <label class="control">
            <small>Min P</small>
            <select id="min-players-op">
              <option value="all">All</option>
              <option value="lte">≤</option>
              <option value="gte">≥</option>
            </select>
            <input id="min-players-value" type="number" min="1" step="1" placeholder="2" />
          </label>
          <label class="control">
            <small>Max P</small>
            <select id="max-players-op">
              <option value="all">All</option>
              <option value="lte">≤</option>
              <option value="gte">≥</option>
            </select>
            <input id="max-players-value" type="number" min="1" step="1" placeholder="4" />
          </label>
          <label class="control">
            <small>Best Min</small>
            <select id="min-best-players-op">
              <option value="all">All</option>
              <option value="lte">≤</option>
              <option value="gte">≥</option>
            </select>
            <input id="min-best-players-value" type="number" min="1" step="1" placeholder="2" />
          </label>
          <label class="control">
            <small>Best Max</small>
            <select id="max-best-players-op">
              <option value="all">All</option>
              <option value="lte">≤</option>
              <option value="gte">≥</option>
            </select>
            <input id="max-best-players-value" type="number" min="1" step="1" placeholder="4" />
          </label>
          <label class="control">
            <small>Min Time</small>
            <select id="min-time-op">
              <option value="all">All</option>
              <option value="lte">≤</option>
              <option value="gte">≥</option>
            </select>
            <input id="min-time-value" type="number" min="0" step="5" placeholder="30" />
          </label>
          <label class="control">
            <small>Max Time</small>
            <select id="max-time-op">
              <option value="all">All</option>
              <option value="lte">≤</option>
              <option value="gte">≥</option>
            </select>
            <input id="max-time-value" type="number" min="0" step="5" placeholder="90" />
          </label>
          <span id="summary" class="summary"></span>
        </div>
      </div>
    </header>
    <main>
      <div class="wrap">
        <div style="overflow:auto; border-radius: 8px;">
          <table id="gamesTable" aria-describedby="summary">
            <thead>
              <tr>
                <th class="sortable" data-key="rank">Rank <span class="arrow">▾</span></th>
                <th>Image</th>
                <th class="sortable" data-key="title">Title</th>
                <th class="sortable" data-key="year">Year</th>
                <th class="sortable optional" data-key="geek_rating">Geek</th>
                <th class="sortable optional" data-key="avg_rating">Avg</th>
                <th class="sortable" data-key="num_voters">Voters</th>
                <th class="sortable optional" data-key="min_players">Min P</th>
                <th class="sortable optional" data-key="max_players">Max P</th>
                <th class="sortable optional" data-key="min_best_players">Best Min</th>
                <th class="sortable optional" data-key="max_best_players">Best Max</th>
                <th class="sortable optional" data-key="min_playing_time">Min Time</th>
                <th class="sortable optional" data-key="max_playing_time">Max Time</th>
                <th class="sortable" data-key="weight">Weight</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </main>
    <script>
      (function() {
        const s = document.createElement('script');
        s.src = './viewer.js?v=' + Date.now(); // dev-only cache busting
        document.body.appendChild(s);
      })();
    </script>
  </body>
  </html>
